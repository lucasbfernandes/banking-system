
lein test banking-system.account-management.accounts-test

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (core.clj:2206)
illegal date string arguments
expected: (false? ((create-account "2017-02-03" "2017-03-03" "2017-03-03") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.accounts$generate_account_number.invokeStatic (accounts.clj:24)
    banking_system.account_management.accounts$generate_account_number.invoke (accounts.clj:20)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:82)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1199.invoke (accounts_test.clj:65)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:64)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (core.clj:2206)
illegal number arguments
expected: (false? ((create-account 2017.2 2017 2000) :status))
  actual: java.lang.ClassCastException: java.lang.Double cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.accounts$generate_account_number.invokeStatic (accounts.clj:24)
    banking_system.account_management.accounts$generate_account_number.invoke (accounts.clj:20)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:82)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1203.invoke (accounts_test.clj:67)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:66)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (core.clj:2206)
illegal regular string parameters
expected: (false? ((create-account "ABCD" "ABCD" "DCBA") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.accounts$generate_account_number.invokeStatic (accounts.clj:24)
    banking_system.account_management.accounts$generate_account_number.invoke (accounts.clj:20)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:82)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1207.invoke (accounts_test.clj:69)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:68)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (validators.clj:10)
illegal arguments - username should be a string
expected: (false? ((create-account (atom {}) 134456 "test") :status))
  actual: java.lang.Exception: 881749 is not an integer.
 at banking_system.helpers.validators$is_integer_QMARK_.invokeStatic (validators.clj:10)
    banking_system.helpers.validators$is_integer_QMARK_.invoke (validators.clj:5)
    banking_system.account_management.accounts$insert_account.invokeStatic (accounts.clj:65)
    banking_system.account_management.accounts$insert_account.invoke (accounts.clj:60)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:83)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1211.invoke (accounts_test.clj:71)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:70)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (validators.clj:10)
illegal arguments - email should be a string
expected: (false? ((create-account (atom {}) "testname" 12.2) :status))
  actual: java.lang.Exception: 783786 is not an integer.
 at banking_system.helpers.validators$is_integer_QMARK_.invokeStatic (validators.clj:10)
    banking_system.helpers.validators$is_integer_QMARK_.invoke (validators.clj:5)
    banking_system.account_management.accounts$insert_account.invokeStatic (accounts.clj:65)
    banking_system.account_management.accounts$insert_account.invoke (accounts.clj:60)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:83)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1215.invoke (accounts_test.clj:73)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:72)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (core.clj:2206)
illegal arguments - accounts-map should be an atom
expected: (false? ((create-account {} "testname" "testemail") :status))
  actual: java.lang.ClassCastException: clojure.lang.PersistentArrayMap cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.accounts$generate_account_number.invokeStatic (accounts.clj:24)
    banking_system.account_management.accounts$generate_account_number.invoke (accounts.clj:20)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:82)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194$fn__1219.invoke (accounts_test.clj:75)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:74)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/create-account-test

ERROR in (create-account-test) (validators.clj:10)
account is created
expected: (true? ((create-account (atom {}) "name" "email") :status))
  actual: java.lang.Exception: 560613 is not an integer.
 at banking_system.helpers.validators$is_integer_QMARK_.invokeStatic (validators.clj:10)
    banking_system.helpers.validators$is_integer_QMARK_.invoke (validators.clj:5)
    banking_system.account_management.accounts$insert_account.invokeStatic (accounts.clj:65)
    banking_system.account_management.accounts$insert_account.invoke (accounts.clj:60)
    banking_system.account_management.accounts$create_account.invokeStatic (accounts.clj:83)
    banking_system.account_management.accounts$create_account.invoke (accounts.clj:75)
    banking_system.account_management.accounts_test$fn__1194.invokeStatic (accounts_test.clj:77)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:61)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.accounts-test/remove-account-test

FAIL in (remove-account-test) (accounts_test.clj:41)
illegal arguments - account number should be a integer
expected: (thrown? Exception (remove-account "2017-03-03" (atom {})))
  actual: nil

lein test :only banking-system.account-management.accounts-test/remove-account-test

ERROR in (remove-account-test) (core.clj:2206)
account number is not in the atom anymore
expected: (false? (contains? (clojure.core/deref (remove-account 123456 (atom {123456 {}}))) 123456))
  actual: java.lang.ClassCastException: java.lang.Long cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.accounts_test$fn__1162.invokeStatic (accounts_test.clj:43)
    banking_system.account_management.accounts_test/fn (accounts_test.clj:31)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test banking-system.account-management.operations-test

lein test :only banking-system.account-management.operations-test/create-operation-test

ERROR in (create-operation-test) (core.clj:2206)
illegal date string arguments
expected: (false? ((create-operation "2017-02-03" "2017-03-03" "2017-03-03" "2017-02-03" "2017-03-03" "2017-03-03") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.operations$create_operation.invokeStatic (operations.clj:48)
    banking_system.account_management.operations$create_operation.invoke (operations.clj:42)
    banking_system.account_management.operations_test$fn__1313$fn__1318.invoke (operations_test.clj:76)
    banking_system.account_management.operations_test$fn__1313.invokeStatic (operations_test.clj:75)
    banking_system.account_management.operations_test/fn (operations_test.clj:72)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.operations-test/create-operation-test

ERROR in (create-operation-test) (core.clj:2206)
illegal number arguments
expected: (false? ((create-operation 2017.2 2017 2000 2017.2 2017 2000) :status))
  actual: java.lang.ClassCastException: java.lang.Double cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.operations$create_operation.invokeStatic (operations.clj:48)
    banking_system.account_management.operations$create_operation.invoke (operations.clj:42)
    banking_system.account_management.operations_test$fn__1313$fn__1322.invoke (operations_test.clj:78)
    banking_system.account_management.operations_test$fn__1313.invokeStatic (operations_test.clj:77)
    banking_system.account_management.operations_test/fn (operations_test.clj:72)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.operations-test/create-operation-test

ERROR in (create-operation-test) (core.clj:2206)
illegal regular string parameters
expected: (false? ((create-operation "ABCD" "ABCD" "DCBA" "ABCD" "ABCD" "DCBA") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.operations$create_operation.invokeStatic (operations.clj:48)
    banking_system.account_management.operations$create_operation.invoke (operations.clj:42)
    banking_system.account_management.operations_test$fn__1313$fn__1326.invoke (operations_test.clj:80)
    banking_system.account_management.operations_test$fn__1313.invokeStatic (operations_test.clj:79)
    banking_system.account_management.operations_test/fn (operations_test.clj:72)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.boundedLength (RT.java:1749)
    clojure.lang.RestFn.applyTo (RestFn.java:130)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test banking-system.account-management.statements-test

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2206)
illegal date string arguments
expected: (false? ((get-account-statement "2017-02-03" "2017-03-03" "2017-03-03" "2017-03-03") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:56)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1511.invoke (statements_test.clj:125)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:124)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2206)
illegal number arguments
expected: (false? ((get-account-statement 2017.2 2017 2000 2000) :status))
  actual: java.lang.ClassCastException: java.lang.Double cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:56)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1515.invoke (statements_test.clj:127)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:126)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2206)
illegal regular string parameters
expected: (false? ((get-account-statement "ABCD" "ABCD" "DCBA" "DCBA") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:56)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1519.invoke (statements_test.clj:129)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:128)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2206)
illegal arguments - accounts-map must be a map atom
expected: (false? ((get-account-statement "ABCD" 123445 "2017-03-04" "2017-03-10") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:56)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1523.invoke (statements_test.clj:131)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:130)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2206)
illegal arguments - accounts-map must be a map atom
expected: (false? ((get-account-statement {} 123445 "2017-03-04" "2017-03-10") :status))
  actual: java.lang.ClassCastException: clojure.lang.PersistentArrayMap cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:56)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1527.invoke (statements_test.clj:133)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:132)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core.clj:2208)
illegal arguments - account-number must be an integer
expected: (false? ((get-account-statement (atom {"ABCD" {}}) "ABCD" "2017-03-04" "2017-03-10") :status))
  actual: java.lang.NullPointerException: null
 at clojure.core$deref_future.invokeStatic (core.clj:2208)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:58)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1531.invoke (statements_test.clj:135)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:134)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

FAIL in (get-account-statement-test) (statements_test.clj:137)
illegal arguments - begin-date must be a date-string
expected: (false? ((get-account-statement (atom {123456 (wrap-account "a" "a")}) 123456 "5000-50-04" "2017-03-10") :status))
  actual: (not (false? true))

lein test :only banking-system.account-management.statements-test/get-account-statement-test

FAIL in (get-account-statement-test) (statements_test.clj:140)
illegal arguments - end-date must be a date-string
expected: (false? ((get-account-statement (atom {123456 (wrap-account "a" "a")}) 123456 "2017-03-04" (format-date "2017-03-10")) :status))
  actual: (not (false? true))

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core_deftype.clj:568)
output - day statement must have the correct number of operations
expected: (= (let [acc-map (generate-dummy-accounts-map 123456 100 10 "D") st-map (get-account-statement acc-map 123456 dummy-date (date-string (get-today-date)))] (count ((get-in st-map [:statement dummy-date]) :operations))) 100)
  actual: java.lang.IllegalArgumentException: No implementation of method: :before? of protocol: #'clj-time.core/DateTimeProtocol found for class: java.lang.String
 at clojure.core$_cache_protocol_fn.invokeStatic (core_deftype.clj:568)
    clojure.core$_cache_protocol_fn.invoke (core_deftype.clj:560)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$is_date_between_QMARK_.invokeStatic (fn.clj:47)
    banking_system.helpers.fn$is_date_between_QMARK_.invoke (fn.clj:43)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:62)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506$fn__1543.invoke (statements_test.clj:144)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:142)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-statement-test

ERROR in (get-account-statement-test) (core_deftype.clj:568)
output - day statement must have the correct balance
expected: (= (let [acc-map (generate-dummy-accounts-map 123456 100 10 "D") st-map (get-account-statement acc-map 123456 dummy-date (date-string (get-today-date)))] (count ((get-in st-map [:statement dummy-date]) :balance))) -1000.0)
  actual: java.lang.IllegalArgumentException: No implementation of method: :before? of protocol: #'clj-time.core/DateTimeProtocol found for class: java.lang.String
 at clojure.core$_cache_protocol_fn.invokeStatic (core_deftype.clj:568)
    clojure.core$_cache_protocol_fn.invoke (core_deftype.clj:560)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$is_date_between_QMARK_.invokeStatic (fn.clj:47)
    banking_system.helpers.fn$is_date_between_QMARK_.invoke (fn.clj:43)
    banking_system.account_management.statements$get_account_statement.invokeStatic (statements.clj:62)
    banking_system.account_management.statements$get_account_statement.invoke (statements.clj:52)
    banking_system.account_management.statements_test$fn__1506.invokeStatic (statements_test.clj:148)
    banking_system.account_management.statements_test/fn (statements_test.clj:121)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2206)
illegal date string arguments
expected: (false? ((get-account-balance "2017-02-03" "2017-03-03" "2017-03-03") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:16)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1396.invoke (statements_test.clj:14)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:13)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2206)
illegal number arguments
expected: (false? ((get-account-balance 2017.2 2017 2000) :status))
  actual: java.lang.ClassCastException: java.lang.Double cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:16)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1400.invoke (statements_test.clj:16)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:15)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2206)
illegal regular string parameters
expected: (false? ((get-account-balance "ABCD" "ABCD" "DCBA") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:16)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1404.invoke (statements_test.clj:18)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:17)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2206)
illegal arguments - accounts-map must be a map atom
expected: (false? ((get-account-balance "ABCD" 123445 "2017-03-04") :status))
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:16)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1408.invoke (statements_test.clj:20)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:19)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2206)
illegal arguments - accounts-map must be a map atom
expected: (false? ((get-account-balance {} 123445 "2017-03-04") :status))
  actual: java.lang.ClassCastException: clojure.lang.PersistentArrayMap cannot be cast to java.util.concurrent.Future
 at clojure.core$deref_future.invokeStatic (core.clj:2206)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:16)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1412.invoke (statements_test.clj:22)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:21)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2208)
illegal arguments - account-number must be an integer
expected: (false? ((get-account-balance (atom {"ABCD" {}}) "ABCD" "2017-03-04") :status))
  actual: java.lang.NullPointerException: null
 at clojure.core$deref_future.invokeStatic (core.clj:2208)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:18)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1416.invoke (statements_test.clj:24)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:23)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:2208)
illegal arguments - max-date must be a date string
expected: (false? ((get-account-balance (atom {123456 {}}) 123456 (format-date "2017-03-04")) :status))
  actual: java.lang.NullPointerException: null
 at clojure.core$deref_future.invokeStatic (core.clj:2208)
    clojure.core$deref.invokeStatic (core.clj:2228)
    clojure.core$deref.invoke (core.clj:2214)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:18)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1420.invoke (statements_test.clj:26)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:25)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:135)
one operation correct balance debit
expected: (= ((get-account-balance (generate-dummy-accounts-map 123456 1 10 "D") 123456 (date-string (get-today-date))) :balance) -10.0)
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to org.joda.time.ReadableInstant
 at clj_time.core$eval588$fn__607.invoke (core.clj:135)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$date_before_equals_QMARK_.invokeStatic (fn.clj:40)
    banking_system.helpers.fn$date_before_equals_QMARK_.invoke (fn.clj:36)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:22)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1432.invoke (statements_test.clj:33)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:32)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:135)
two operations correct balance debit
expected: (= ((get-account-balance (generate-dummy-accounts-map 123456 2 45 "D") 123456 (date-string (get-today-date))) :balance) -90.0)
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to org.joda.time.ReadableInstant
 at clj_time.core$eval588$fn__607.invoke (core.clj:135)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$date_before_equals_QMARK_.invokeStatic (fn.clj:40)
    banking_system.helpers.fn$date_before_equals_QMARK_.invoke (fn.clj:36)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:22)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1436.invoke (statements_test.clj:36)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:35)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:135)
one operation correct balance credit
expected: (= ((get-account-balance (generate-dummy-accounts-map 123456 1 10.5 "C") 123456 (date-string (get-today-date))) :balance) 10.5)
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to org.joda.time.ReadableInstant
 at clj_time.core$eval588$fn__607.invoke (core.clj:135)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$date_before_equals_QMARK_.invokeStatic (fn.clj:40)
    banking_system.helpers.fn$date_before_equals_QMARK_.invoke (fn.clj:36)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:22)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391$fn__1444.invoke (statements_test.clj:42)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:41)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/get-account-balance-test

ERROR in (get-account-balance-test) (core.clj:135)
two operations correct balance credit
expected: (= ((get-account-balance (generate-dummy-accounts-map 123456 2 45.2 "C") 123456 (date-string (get-today-date))) :balance) 90.4)
  actual: java.lang.ClassCastException: java.lang.String cannot be cast to org.joda.time.ReadableInstant
 at clj_time.core$eval588$fn__607.invoke (core.clj:135)
    clj_time.core$eval268$fn__313$G__245__320.invoke (core.clj:102)
    banking_system.helpers.fn$date_before_QMARK_.invokeStatic (fn.clj:34)
    banking_system.helpers.fn$date_before_QMARK_.invoke (fn.clj:30)
    banking_system.helpers.fn$date_before_equals_QMARK_.invokeStatic (fn.clj:40)
    banking_system.helpers.fn$date_before_equals_QMARK_.invoke (fn.clj:36)
    banking_system.account_management.statements$get_account_balance.invokeStatic (statements.clj:22)
    banking_system.account_management.statements$get_account_balance.invoke (statements.clj:11)
    banking_system.account_management.statements_test$fn__1391.invokeStatic (statements_test.clj:45)
    banking_system.account_management.statements_test/fn (statements_test.clj:10)
    clojure.test$test_var$fn__7983.invoke (test.clj:716)
    clojure.test$test_var.invokeStatic (test.clj:716)
    clojure.test$test_var.invoke (test.clj:707)
    clojure.test$test_vars$fn__8005$fn__8010.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars$fn__8005.invoke (test.clj:734)
    clojure.test$default_fixture.invokeStatic (test.clj:686)
    clojure.test$default_fixture.invoke (test.clj:682)
    clojure.test$test_vars.invokeStatic (test.clj:730)
    clojure.test$test_all_vars.invokeStatic (test.clj:736)
    clojure.test$test_ns.invokeStatic (test.clj:757)
    clojure.test$test_ns.invoke (test.clj:742)
    user$eval85$fn__136.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$compose_hooks$fn__19.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    leiningen.core.injected$run_hooks.invokeStatic (form-init3500404968533148209.clj:1)
    leiningen.core.injected$run_hooks.invoke (form-init3500404968533148209.clj:1)
    leiningen.core.injected$prepare_for_hooks$fn__24$fn__25.doInvoke (form-init3500404968533148209.clj:1)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.lang.AFunction$1.doInvoke (AFunction.java:29)
    clojure.lang.RestFn.invoke (RestFn.java:408)
    clojure.core$map$fn__4785.invoke (core.clj:2646)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:688)
    clojure.core$next__4341.invokeStatic (core.clj:64)
    clojure.core$reduce1.invokeStatic (core.clj:925)
    clojure.core$reduce1.invokeStatic (core.clj:915)
    clojure.core$merge_with.invokeStatic (core.clj:2950)
    clojure.core$merge_with.doInvoke (core.clj:2942)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:648)
    clojure.test$run_tests.invokeStatic (test.clj:767)
    clojure.test$run_tests.doInvoke (test.clj:767)
    clojure.lang.RestFn.applyTo (RestFn.java:137)
    clojure.core$apply.invokeStatic (core.clj:646)
    clojure.core$apply.invoke (core.clj:641)
    user$eval85$fn__148$fn__179.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148$fn__149.invoke (form-init3500404968533148209.clj:1)
    user$eval85$fn__148.invoke (form-init3500404968533148209.clj:1)
    user$eval85.invokeStatic (form-init3500404968533148209.clj:1)
    user$eval85.invoke (form-init3500404968533148209.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6927)
    clojure.lang.Compiler.eval (Compiler.java:6917)
    clojure.lang.Compiler.load (Compiler.java:7379)
    clojure.lang.Compiler.loadFile (Compiler.java:7317)
    clojure.main$load_script.invokeStatic (main.clj:275)
    clojure.main$init_opt.invokeStatic (main.clj:277)
    clojure.main$init_opt.invoke (main.clj:277)
    clojure.main$initialize.invokeStatic (main.clj:308)
    clojure.main$null_opt.invokeStatic (main.clj:342)
    clojure.main$null_opt.invoke (main.clj:339)
    clojure.main$main.invokeStatic (main.clj:421)
    clojure.main$main.doInvoke (main.clj:384)
    clojure.lang.RestFn.invoke (RestFn.java:421)
    clojure.lang.Var.invoke (Var.java:383)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.main.main (main.java:37)

lein test :only banking-system.account-management.statements-test/create-day-statement-test

FAIL in (create-day-statement-test) (statements_test.clj:57)
illegal arguments - accounts-map must be a atom map
expected: (thrown? Exception (create-day-statement {} {} {}))
  actual: nil

lein test :only banking-system.account-management.statements-test/create-day-statement-test

FAIL in (create-day-statement-test) (statements_test.clj:59)
illegal arguments - accounts-map must be a atom map
expected: (thrown? Exception (create-day-statement (atom []) {} {}))
  actual: nil

lein test banking-system.helpers.fn-test

lein test :only banking-system.helpers.fn-test/is-date-between-test

FAIL in (is-date-between-test) (fn_test.clj:94)
date begin must come before date end
expected: (thrown? Exception (is-date-between? (format-date "2017-02-02") (format-date "2017-02-02") (format-date "2017-02-01")))
  actual: nil

lein test :only banking-system.helpers.fn-test/insert-sorted-test

FAIL in (insert-sorted-test) (fn_test.clj:8)
illegal date string arguments
expected: (thrown? Exception (insert-sorted [] "2034-03-20" "2030-04-01"))
  actual: nil

lein test :only banking-system.helpers.fn-test/insert-sorted-test

FAIL in (insert-sorted-test) (fn_test.clj:10)
illegal number arguments
expected: (thrown? Exception (insert-sorted [] 2000 20))
  actual: nil

lein test :only banking-system.helpers.fn-test/insert-sorted-test

FAIL in (insert-sorted-test) (fn_test.clj:12)
illegal regular string parameters
expected: (thrown? Exception (insert-sorted [] "aaa" "ccc"))
  actual: nil

lein test :only banking-system.helpers.fn-test/get-random-between-test

FAIL in (get-random-between-test) (fn_test.clj:146)
illegal number arguments
expected: (thrown? Exception (get-random-between 2017.2 2008003.002))
  actual: nil

lein test :only banking-system.helpers.fn-test/get-random-between-test

FAIL in (get-random-between-test) (fn_test.clj:150)
begin must be less than end
expected: (thrown? Exception (get-random-between 2000 1000))
  actual: nil

lein test :only banking-system.helpers.fn-test/date-string-test

FAIL in (date-string-test) (fn_test.clj:132)
illegal nil arguments
expected: (thrown? Exception (date-string nil))
  actual: nil

Ran 27 tests containing 185 assertions.
12 failures, 30 errors.
